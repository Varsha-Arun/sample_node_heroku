# Language setting
language: node_js

# Version number
node_js:
  - 0.12
  - 5

env:
  global:
    - APP_NAME=samplenode-heroku
    #- secure: VmFjAxSZ44Ew/po4EVQheH1ybrbL3O68v6rDC7cgAjVVd0YWlryaeSX/qNtIaXUxqdNLA1tD4OdbB7bXhOeMElihHqchazpaDT5YlGhYqPDob68J6ikFf4Y+1sHuuC2BZT4jIm40aeYUrmwerh3WpvXhU973DpikXCggg7N305KBWHrJKR86SKzgcOyM+6AbmOfT4CRqArJACJ4kEdNOy30V2uKVMKQJqIzrDowges2UlcubxpU+gISAG8tHM6nQf8HcZYi+6kIryXaUe8kULkjHFwK0vrZxHCkDgcVTW81li0eVqS3h9kIE3Oz+dI1IBY+RS62NhA8mNr4B+ffpHg==
    - secure: aFgSxeWfmeO21Q7TqCcV0/i42KyUrRcI0vR+eHFWSZ8ATNmufJ1JCQD0mNR1p7p5su4do/dllPzOv9lHufhtOWGWlbd+PmSEL9c0RuscrHFpFrZGulRNhOU7z4RK+7ForUmoDcfcG/nNZqGTfJmyK1IQH69GXle+aUWPcCvP3MrYbo5G31djGfg2FBvaKB/b4qcxFpzE0hqw8sN0ta8U3CAByXN7U7EjOiaHCVJoy+51GS2dB239oJ2l7hkNilrN0niCHP6wy6kvxAmvLSbMVSahVY1EjXep1L5bSxdBUI01UdShMI4OPZ9dm3qovULwNgP/5XjOo/VGqNn56IKvDw==
    #BETA HEROKU_API_KEY=a956ef68-1e3a-4ba9-a974-0c1102f26acf
  matrix:
    - M1=ONE
  
build:

  ci:
    - which heroku || wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh
    - ps -eax
    - ls -al
    - test -f ~/.ssh/id_rsa.heroku || ssh-keygen -y -f /tmp/ssh/00_sub > ~/.ssh/id_rsa.heroku && heroku keys:add ~/.ssh/id_rsa.heroku
   # - test -f ~/.ssh/id_rsa.heroku || ssh-keygen -y -f /tmp/ssh/sub > ~/.ssh/id_rsa.heroku && heroku keys:add ~/.ssh/id_rsa.heroku
    - git remote -v | grep ^heroku || heroku git:remote --ssh-git --app $APP_NAME
    - git push -f heroku $BRANCH:master 
